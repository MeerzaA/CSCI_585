-- Meerza Ahmed: CSCI 585 HW2

-- DATABASE USED: https://livesql.oracle.com/

-- Q1:(2 points). Write SQL commands to create the above tables (create your own column names), and populate them with data (as many/few rows as you see fit, eg. 25 employees, 15 meetings... you can start small, and add more rows later, to help write queries for Q2..Q5).

CREATE TABLE EMPLOYEE (      
EMP_ID          VARCHAR(8),    
EMP_FNAME       VARCHAR(25)  NOT NULL,      
EMP_LNAME       VARCHAR(25)  NOT NULL,      
EMP_OFFICE_NUM  CHAR(3)      NOT NULL,      
EMP_FLOOR_NUM   INTEGER      NOT NULL  CHECK(EMP_FLOOR_NUM BETWEEN 1 AND 10),      
EMP_PHONE       CHAR(10)     NOT NULL,      
EMP_EMAIL       VARCHAR(25)  NOT NULL,    
CONSTRAINT EMP_ID_PK PRIMARY KEY (EMP_ID));

INSERT INTO EMPLOYEE  
	VALUES('00000010', 'Joe', 'Schmo', '110', 10, '1234560110','joeschmo@company.com');

INSERT INTO EMPLOYEE  
	VALUES('00000009', 'Steven', 'Stever', '901', 9, '1234560009','stevenstever@company.com');

INSERT INTO EMPLOYEE  
	VALUES('00000019', 'Berry', 'Barn', '902', 9, '1234560019','berrybarn@company.com');

INSERT INTO EMPLOYEE  
	VALUES('00000008', 'Maddy', 'Mad', '801', 8, '1234560008','maddymad@company.com');

INSERT INTO EMPLOYEE  
	VALUES('00000007', 'Meerza', 'Ahmed', '701', 7, '1234560007','meerzaahmed@company.com');

INSERT INTO EMPLOYEE  
	VALUES('00000017', 'Larry', 'Loud', '702', 7, '1234560017','larryloud@company.com');

INSERT INTO EMPLOYEE  
	VALUES('00000027', 'Tiki', 'Tak', '703', 7, '1234560027','tikitak@company.com');

INSERT INTO EMPLOYEE  
	VALUES('00000037', 'Murry', 'Marth', '704', 7, '1234560037','murrymarth@company.com');

INSERT INTO EMPLOYEE  
	VALUES('00000047', 'Berry', 'Bard', '701', 7, '1234560047','berrybard@company.com');

INSERT INTO EMPLOYEE  
	VALUES('00000006', 'Billy', 'Bob', '601', 6, '1234560006','billybob@company.com');

INSERT INTO EMPLOYEE  
	VALUES('00000016', 'Jonny', 'Jones', '602', 6, '1234560016','jonnyjones@company.com');

INSERT INTO EMPLOYEE  
	VALUES('00000026', 'Ashley', 'Adler', '603', 6, '1234560026','ashleyadler@company.com');

INSERT INTO EMPLOYEE  
	VALUES('00000036', 'Ray', 'Road', '604', 6, '1234560036','rayroad@company.com');

INSERT INTO EMPLOYEE  
	VALUES('00000005', 'Timmy', 'Tam', '501', 5, '1234560005','timmytam@company.com');

INSERT INTO EMPLOYEE  
	VALUES('00000004', 'Mary', 'Ann', '401', 4, '1234560004','maryann@company.com');

INSERT INTO EMPLOYEE  
	VALUES('00000003', 'Emily', 'Emmit', '301', 3, '1234560003','emilyemmit@company.com');

INSERT INTO EMPLOYEE  
	VALUES('00000002', 'Elisa', 'Cruz', '201', 2, '1234560002','elisacruz@company.com');

INSERT INTO EMPLOYEE  
	VALUES('00000001', 'Leroy', 'Jankins', '101', 1, '1234560001','leroyjankins@company.com');


CREATE TABLE MEETING (      
MEET_ID          VARCHAR(5),    
MEET_ROOM_NUM    CHAR(3)      NOT NULL, 
MEET_FLOOR_NUM   INTEGER      NOT NULL CHECK(MEET_FLOOR_NUM BETWEEN 1 AND 10), 
MEET_START_TIME  INTEGER      NOT NULL CHECK(MEET_START_TIME BETWEEN 8 AND 18),   
CONSTRAINT MEET_ID_PK PRIMARY KEY (MEET_ID));

INSERT INTO MEETING   
	VALUES('11111', '001', 1, 8);

INSERT INTO MEETING   
	VALUES('22222', '002', 2, 9);

INSERT INTO MEETING   
	VALUES('33333', '003', 3, 10);

INSERT INTO MEETING   
	VALUES('44444', '004', 4, 11);

INSERT INTO MEETING   
	VALUES('55555', '005', 5, 13);


CREATE TABLE ATTENDANCE (      
EMP_ID          VARCHAR(8), 
MEET_ID         VARCHAR(5), 
CONSTRAINT ATTEN_EMP_ID_FK FOREIGN KEY (EMP_ID) REFERENCES EMPLOYEE, 
CONSTRAINT ATTEN_MEET_ID_FK FOREIGN KEY (MEET_ID) REFERENCES MEETING, 
CONSTRAINT ATTEN_EMP_MEET_COMP_PK PRIMARY KEY (EMP_ID,MEET_ID));

INSERT INTO ATTENDANCE   
	VALUES('00000010', '11111');

INSERT INTO ATTENDANCE   
	VALUES('00000002', '22222');


CREATE TABLE NOTIFICATION (         
NOTIF_ID	VARCHAR(5),  
EMP_ID      VARCHAR(8),  
NOTIF_DATE	DATE         NOT NULL,  
NOTIF_TYPE  VARCHAR(10)  NOT NULL  CHECK(NOTIF_TYPE IN ('mandatory','optional')),     
CONSTRAINT NOTIF_EMP_ID_FK FOREIGN KEY (EMP_ID) REFERENCES EMPLOYEE,    
CONSTRAINT NOTIF_ID_PK PRIMARY KEY (NOTIF_ID));

INSERT INTO NOTIFICATION   
	VALUES('01000', '00000003', '01-jan-2023', 'optional');

INSERT INTO NOTIFICATION   
	VALUES('02000', '00000004', '01-feb-2023', 'optional');


CREATE SEQUENCE SYMP_ROW_SEQ 
START WITH 1 
INCREMENT BY 1 
NOCACHE 
NOCYCLE;

CREATE TABLE SYMPTOM (         
ROW_ID             NUMBER, 
EMP_ID             VARCHAR(8),  
SYMP_REPORT_DATE   DATE        NOT NULL,  
SYMP_ID            CHAR(1)     NOT NULL  CHECK(SYMP_ID BETWEEN 1 AND 5),     
CONSTRAINT SYMP_EMP_ID_FK FOREIGN KEY (EMP_ID) REFERENCES EMPLOYEE,    
CONSTRAINT SYMP_ROW_EMP_COMP_PK PRIMARY KEY (ROW_ID,EMP_ID));

INSERT INTO SYMPTOM    
	VALUES(SYMP_ROW_SEQ.NEXTVAL, '00000009', '22-jan-2023', 4);
	
INSERT INTO SYMPTOM      
	VALUES(SYMP_ROW_SEQ.NEXTVAL, '00000019', '21-feb-2023', 5);

INSERT INTO SYMPTOM    
	VALUES(SYMP_ROW_SEQ.NEXTVAL, '00000010', '03-feb-2023', 1);

INSERT INTO SYMPTOM     
	VALUES(SYMP_ROW_SEQ.NEXTVAL, '00000008', '03-mar-2023', 4);

 INSERT INTO SYMPTOM     
	VALUES(SYMP_ROW_SEQ.NEXTVAL, '00000009', '02-jun-2023', 5);

INSERT INTO SYMPTOM      
	VALUES(SYMP_ROW_SEQ.NEXTVAL, '00000007', '23-apr-2023', 2);

INSERT INTO SYMPTOM      
	VALUES(SYMP_ROW_SEQ.NEXTVAL, '00000017', '09-jun-2023', 3);

INSERT INTO SYMPTOM      
	VALUES(SYMP_ROW_SEQ.NEXTVAL, '00000027', '18-aug-2023', 2);

INSERT INTO SYMPTOM      
	VALUES(SYMP_ROW_SEQ.NEXTVAL, '00000037', '28-aug-2023', 3);

INSERT INTO SYMPTOM      
	VALUES(SYMP_ROW_SEQ.NEXTVAL, '00000047', '12-feb-2023', 1);

INSERT INTO SYMPTOM      
	VALUES(SYMP_ROW_SEQ.NEXTVAL, '00000006', '17-feb-2023', 4);

INSERT INTO SYMPTOM    
	VALUES(SYMP_ROW_SEQ.NEXTVAL, '00000006', '22-mar-2023', 4);

INSERT INTO SYMPTOM    
	VALUES(SYMP_ROW_SEQ.NEXTVAL, '00000006', '22-apr-2023', 5);

INSERT INTO SYMPTOM    
	VALUES(SYMP_ROW_SEQ.NEXTVAL, '00000006', '22-may-2023', 3);

INSERT INTO SYMPTOM    
	VALUES(SYMP_ROW_SEQ.NEXTVAL, '00000006', '22-jun-2023', 2);

INSERT INTO SYMPTOM    
	VALUES(SYMP_ROW_SEQ.NEXTVAL, '00000006', '22-jul-2023', 1);

INSERT INTO SYMPTOM    
	VALUES(SYMP_ROW_SEQ.NEXTVAL, '00000016', '23-mar-2023', 3);

INSERT INTO SYMPTOM    
	VALUES(SYMP_ROW_SEQ.NEXTVAL, '00000026', '22-feb-2023', 2);

INSERT INTO SYMPTOM    
	VALUES(SYMP_ROW_SEQ.NEXTVAL, '00000036', '21-jan-2023', 1);

INSERT INTO SYMPTOM      
	VALUES(SYMP_ROW_SEQ.NEXTVAL, '00000005', '17-may-2023', 3);

 INSERT INTO SYMPTOM      
	VALUES(SYMP_ROW_SEQ.NEXTVAL, '00000004', '07-may-2023', 4);

 INSERT INTO SYMPTOM      
	VALUES(SYMP_ROW_SEQ.NEXTVAL, '00000003', '06-jul-2023', 2);

 INSERT INTO SYMPTOM      
	VALUES(SYMP_ROW_SEQ.NEXTVAL, '00000002', '26-nov-2023', 2);

INSERT INTO SYMPTOM      
	VALUES(SYMP_ROW_SEQ.NEXTVAL, '00000001', '02-dec-2023', 4);


CREATE TABLE SCAN (          
SCAN_ID     VARCHAR(5), 
SCAN_DATE   DATE         NOT NULL, 
SCAN_TIME	INTEGER      NOT NULL  CHECK(SCAN_TIME BETWEEN 0 AND 23), 
EMP_ID      VARCHAR(8), 
SCAN_TEMP   NUMBER(5,2)  NOT NULL, 
CONSTRAINT SCAN_EMP_ID_FK FOREIGN KEY (EMP_ID) REFERENCES EMPLOYEE,     
CONSTRAINT SCAN_ID_PK PRIMARY KEY (SCAN_ID));

INSERT INTO SCAN      
	VALUES('10000', '17-dec-2023', 16, '00000007', 100.1);

INSERT INTO SCAN       
	VALUES('70000', '17-aug-2023', 14, '00000001', 106.1);

INSERT INTO SCAN       
	VALUES('60000', '17-oct-2023', 8, '00000002', 96.4);

INSERT INTO SCAN       
	VALUES('50000', '17-dec-2023', 8, '00000004', 99);

INSERT INTO SCAN       
	VALUES('40000', '17-nov-2023', 12, '00000003', 102.3);

INSERT INTO SCAN       
	VALUES('20000', '17-mar-2023', 9, '00000005', 101);

INSERT INTO SCAN       
	VALUES('30000', '17-jun-2023', 18, '00000006', 93);


CREATE TABLE TEST (           
TEST_ID         VARCHAR(5),  
TEST_LOCATION   VARCHAR(10) NOT NULL   CHECK(TEST_LOCATION IN ('on-site','off-site')),  
TEST_DATE	    DATE        NOT NULL,  
TEST_TIME       INTEGER     NOT NULL   CHECK(TEST_TIME BETWEEN 0 AND 23), 
EMP_ID          VARCHAR(8),    
TEST_RESULT     VARCHAR(10) NOT NULL   CHECK(TEST_RESULT IN ('positive','negative')),  
CONSTRAINT TEST_EMP_ID_FK FOREIGN KEY (EMP_ID) REFERENCES EMPLOYEE,      
CONSTRAINT TEST_ID_PK PRIMARY KEY (TEST_ID));

INSERT INTO TEST      
	VALUES('01000','on-site','17-dec-2023', 18, '00000007', 'positive');


CREATE TABLE POS_CASE (           
CASE_ID        VARCHAR(5),  
EMP_ID         VARCHAR(8),  
CASE_DATE      DATE        NOT NULL, 
RESOLUTION     VARCHAR(25) NOT NULL  CHECK(RESOLUTION IN ('back to work','left the company','deceased')), 
CONSTRAINT CASE_EMP_ID_FK FOREIGN KEY (EMP_ID) REFERENCES EMPLOYEE,      
CONSTRAINT CASE_ID_PK PRIMARY KEY (CASE_ID));

INSERT INTO POS_CASE    
	VALUES('01010', '00000005', '14-dec-2023', 'back to work');

INSERT INTO POS_CASE    
	VALUES('02020', '00000006', '09-oct-2023', 'left the company');

INSERT INTO POS_CASE    
	VALUES('03030', '00000004', '17-feb-2023', 'left the company');

INSERT INTO POS_CASE    
	VALUES('04040', '00000003', '26-dec-2023', 'left the company');

INSERT INTO POS_CASE    
	VALUES('05050', '00000002', '30-jun-2023', 'back to work');

INSERT INTO POS_CASE    
	VALUES('06060', '00000001', '22-aug-2023', 'deceased');

INSERT INTO POS_CASE    
	VALUES('07070', '00000007', '18-mar-2023', 'back to work');

INSERT INTO POS_CASE    
	VALUES('07071', '00000017', '01-oct-2023', 'back to work');

INSERT INTO POS_CASE    
	VALUES('07072', '00000027', '27-oct-2023', 'left the company');

INSERT INTO POS_CASE    
	VALUES('07073', '00000037', '24-dec-2023', 'left the company');

INSERT INTO POS_CASE    
	VALUES('07074', '00000047', '02-feb-2023', 'back to work');

INSERT INTO POS_CASE    
	VALUES('08080', '00000008', '11-dec-2023', 'deceased');

INSERT INTO POS_CASE    
	VALUES('09090', '00000009', '22-jul-2023', 'left the company');

INSERT INTO POS_CASE    
	VALUES('09091', '00000019', '27-feb-2023', 'back to work');

 
CREATE SEQUENCE HS_ROW_SEQ  
START WITH 1  
INCREMENT BY 1  
NOCACHE  
NOCYCLE;

CREATE TABLE HEALTH_STATUS (           
ROW_ID       VARCHAR(5),  
EMP_ID       VARCHAR(8),  
HS_DATE      DATE        NOT NULL, 
STATUS       VARCHAR(25) NOT NULL  CHECK(STATUS IN ('sick','hospitalized','well')), 
CONSTRAINT HS_EMP_ID_FK FOREIGN KEY (EMP_ID) REFERENCES EMPLOYEE, 
CONSTRAINT HS_ROW_EMP_COMP_PK PRIMARY KEY (ROW_ID,EMP_ID));     

INSERT INTO HEALTH_STATUS     
	VALUES(HS_ROW_SEQ.NEXTVAL, '00000007', '03-feb-2023', 'well');